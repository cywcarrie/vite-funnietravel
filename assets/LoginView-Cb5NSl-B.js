import{_ as u,S as r,c,a as e,b as m,f as d,v as p,g as f,o as b}from"./index-Cr3bc16n.js";const w={BASE_URL:"/vite-funnietravel/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funnietravel-api"},{VITE_APP_API:_}=w,v={data(){return{user:{username:"",password:""}}},methods:{signIn(){const n=`${_}admin/signin`;this.$http.post(n,this.user).then(s=>{if(s.data.success){const{token:i,expired:a}=s.data;document.cookie=`hexToken=${i}; expires=${new Date(a)}`,r("success","登入成功"),this.$router.push("/admin/products")}else r("error","登入失敗")}).catch(s=>{r("error",`${s.response.data.message}`)})}}},x={class:"container my-5 py-5"},P={class:"col-md-7 col-lg-4 bg-light p-5 rounded-2"},h={class:"mb-2"},g={class:"mb-2"};function y(n,s,i,a,o,l){return b(),c("div",x,[e("form",{class:"row justify-content-center py-5 px-3",onSubmit:s[2]||(s[2]=f((...t)=>l.signIn&&l.signIn(...t),["prevent"]))},[e("div",P,[s[5]||(s[5]=e("h2",{class:"h3 mb-3 text-center text-nowrap font-weight-normal fw-bold text-primary"},[e("i",{class:"bi bi-person-circle pe-2"}),m("管理者後台登入 ")],-1)),e("div",h,[s[3]||(s[3]=e("label",{for:"inputEmail",class:"sr-only"},"Email",-1)),d(e("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.user.username=t)},null,512),[[p,o.user.username]])]),e("div",g,[s[4]||(s[4]=e("label",{for:"inputPassword",class:"sr-only"},"密碼",-1)),d(e("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=t=>o.user.password=t)},null,512),[[p,o.user.password]])]),s[6]||(s[6]=e("div",{class:"text-center mt-4"},[e("button",{class:"btn btn-secondary btn-block px-4 fw-bold",type:"submit"},"登入")],-1))])],32)])}const V=u(v,[["render",y]]);export{V as default};
