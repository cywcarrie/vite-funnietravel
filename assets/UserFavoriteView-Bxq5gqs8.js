import{_ as x,m,h as v,i as f,c as r,d as n,a as t,w as u,F as b,l as w,r as g,o as a,b as i,k as C,t as l,p as d}from"./index-Blqv0kGK.js";import{f as _}from"./favoriteStore-CdasQy-x.js";import{V as $}from"./VueLoading-B1CiQ_-N.js";const L={components:{VueLoading:$},data(){return{status:{loadingItem:""}}},methods:{...m(v,["addCart"]),...m(_,["getProducts","getFavorite","removeFavorite"]),getProduct(o){this.$router.push(`/product/${o}`)}},computed:{...f(_,["isLoading","products","favoriteProduct","favoriteData"]),...f(v,["cart"])},created(){this.getProducts()}},V={class:"mb-5"},N={class:"container"},P={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},F={class:"breadcrumb"},D={class:"breadcrumb-item"},I={class:"row mt-4 mb-5 bg-light rounded-2 py-3"},S={class:"col table-responsive mt-4 mb-4"},T={class:"table align-middle text-center table-light table-borderless"},j={class:"text-center"},B={class:"favorite-table"},R=["onClick"],U={class:"text-nowrap"},z={key:0,class:"h5 text-black-50"},A={key:1,class:"h6 text-black-50"},E={key:2,class:"h5 text-black"},q={class:"text-nowrap text-end ps-4 ps-lg-0"},G=["disabled","onClick"],H={key:0,class:"spinner-border text-primary spinner-border-sm",role:"status"},J=["disabled","onClick"],K={class:"text-end mt-4 mb-5"},M={key:1,class:"py-5 mb-5"},O={class:"text-center pt-4"};function Q(o,s,W,X,y,h){const k=g("VueLoading"),c=g("RouterLink");return a(),r(b,null,[n(k,{active:o.isLoading},null,8,["active"]),s[11]||(s[11]=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"我的最愛")],-1)),t("section",V,[t("div",N,[t("nav",P,[t("ol",F,[t("li",D,[n(c,{to:"/",class:"text-dark hover-nav fw-bold"},{default:u(()=>s[0]||(s[0]=[i("首頁")])),_:1})]),s[1]||(s[1]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"我的最愛",-1))])]),o.favoriteProduct.length!==0?(a(),r(b,{key:0},[s[8]||(s[8]=t("div",{class:"d-flex justify-content-center mt-5"},[t("h2",{class:"fw-bold"},"我的最愛清單")],-1)),t("div",I,[t("div",S,[t("table",T,[s[6]||(s[6]=t("thead",{class:"table-secondary"},[t("tr",null,[t("th"),t("th",{class:"text-nowrap"},"行程名稱"),t("th",{class:"text-nowrap"},"價格"),t("th"),t("th",{class:"text-end"})])],-1)),t("tbody",j,[(a(!0),r(b,null,w(o.favoriteProduct,e=>(a(),r("tr",{class:"table-nowrap",key:e.id},[t("td",B,[t("div",{class:"m-auto rounded-2 favorite-table-img",style:C({backgroundImage:`url(${e.imageUrl})`})},null,4)]),t("td",{class:"text-nowrap fw-bold text-primary cursor-pointer hover-nav",onClick:p=>h.getProduct(e.id)},l(e.title),9,R),t("td",U,[e.price?d("",!0):(a(),r("div",z," NTD "+l(o.$filters.currency(e.origin_price)),1)),e.price?(a(),r("del",A,"NTD "+l(o.$filters.currency(e.origin_price)),1)):d("",!0),e.price?(a(),r("div",E," NTD "+l(o.$filters.currency(e.price)),1)):d("",!0)]),t("td",q,[t("button",{type:"button",class:"btn btn-outline-primary px-4",disabled:this.status.loadingItem===e.id,onClick:p=>o.addCart(e.id)},[this.status.loadingItem===e.id?(a(),r("div",H,s[2]||(s[2]=[t("span",{class:"visually-hidden"},"Loading...",-1)]))):d("",!0),s[3]||(s[3]=t("i",{class:"bi bi-cart-fill"},null,-1)),s[4]||(s[4]=i(" 加入購物車 "))],8,G)]),t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:y.status.loadingItem===e.id,onClick:p=>o.removeFavorite(e)},s[5]||(s[5]=[t("i",{class:"bi bi-x-lg"},null,-1)]),8,J)])]))),128))])])])]),t("div",K,[n(c,{class:"btn btn-primary ms-auto text-end hover-btn",to:"/cart"},{default:u(()=>s[7]||(s[7]=[i("前往購物車"),t("i",{class:"bi bi-cart-fill ps-1"},null,-1)])),_:1})])],64)):(a(),r("div",M,[t("div",O,[s[10]||(s[10]=t("h2",{class:"fw-bold mb-5"},"您尚未有行程加入我的最愛",-1)),n(c,{class:"btn btn-primary btn-lg fw-bold",to:"/products/全部"},{default:u(()=>s[9]||(s[9]=[i("馬上開始瀏覽行程吧 !")])),_:1})])]))])])],64)}const st=x(L,[["render",Q]]);export{st as default};
