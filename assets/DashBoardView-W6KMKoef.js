import{_ as m,R as A,g,o as b,c as h,a as l,e as k,L as $,d as u,w as d,b as _,h as V,j as x,u as P,S as p,r as v,m as w,F as E}from"./index-DzYaN0Ue.js";const R={BASE_URL:"/vite-funnietravel/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funnietravel-api"},{VITE_APP_API:I}=R,N={name:"AdminNavbar",components:{RouterLink:A},setup(){const n=x("$axios"),a=g({}),r=P();function t(){const i=`${I}logout`;n.post(i,a.value).then(s=>{s.data.success?(p("success","登出成功"),r.push("/login")):p("error","登出失敗")}).catch(s=>{var o,c;const e=((c=(o=s.response)==null?void 0:o.data)==null?void 0:c.message)||"發生錯誤，請稍後再試";p("error",e)})}return{logout:t}}},T={class:"navbar navbar-expand-lg navbar-light bg-light shadow-sm"},S={class:"container-fluid"},D={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},M={class:"navbar-nav"};function y(n,a,r,t,i,s){const e=v("RouterLink");return b(),h("nav",T,[l("div",S,[a[4]||(a[4]=k('<a class="navbar-brand text-white fw-bold me-auto d-flex align-items-center" href="#"><img src="'+$+'" alt="funnie-logo" class="funnie-logo-img"><h1 class="logo text-primary fs-2 fw-bolder mb-0 px-2 me-5">Funnie</h1></a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>',2)),l("div",D,[l("div",M,[u(e,{to:"/admin/products",class:"nav-link text-primary fw-bold hover-nav"},{default:d(()=>a[1]||(a[1]=[_("產品")])),_:1}),u(e,{to:"/admin/orders",class:"nav-link text-primary fw-bold hover-nav"},{default:d(()=>a[2]||(a[2]=[_("訂單")])),_:1}),u(e,{to:"/admin/coupons",class:"nav-link text-primary fw-bold hover-nav"},{default:d(()=>a[3]||(a[3]=[_("優惠券")])),_:1}),l("a",{href:"#",onClick:a[0]||(a[0]=V((...o)=>t.logout&&t.logout(...o),["prevent"])),class:"nav-link text-primary fw-bold hover-nav"},"登出")])])])])}const B=m(N,[["render",y]]),L={BASE_URL:"/vite-funnietravel/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funnietravel-api"},{VITE_APP_API:O}=L,C={components:{Navbar:B},setup(){const n=x("$axios"),a=g(null),r=P();function t(){const i=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n.defaults.headers.common.Authorization=i;const s=`${O}api/user/check`;n.post(s,a.value).then(e=>{e.data.success||r.push("/login")}).catch(e=>{var c,f;const o=((f=(c=e.response)==null?void 0:c.data)==null?void 0:f.message)||"發生錯誤，請稍後再試";p("error",o)})}return w(()=>{t()}),{checkUser:t}}},F={class:"container-fluid mt-3 position-relative"};function U(n,a,r,t,i,s){const e=v("Navbar"),o=v("RouterView");return b(),h(E,null,[u(e),l("div",F,[u(o)])],64)}const H=m(C,[["render",U]]);export{H as default};
