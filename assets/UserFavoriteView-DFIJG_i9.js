import{_ as F,k as N,s as y,g as P,m as S,c as n,a as t,d as m,w as p,B,F as v,x as D,r as x,o,b as c,q as I,t as u,z as b,u as T}from"./index-Cwm0lMTx.js";import{u as $}from"./favoriteStore-DkB8tqru.js";import{V as R}from"./VueLoading-BkvJ_KJW.js";const j={components:{VueLoading:R},setup(){const a=$(),s=N(),f=T(),{isLoading:r,products:_,favoriteProduct:g,favoriteData:i}=y(a),{getProducts:l,getFavorite:e,removeFavorite:d,addFavorite:k}=a,{cart:h}=y(s),{addCart:w}=s,C=P({loadingItem:""});function L(V){f.push(`/product/${V}`)}return S(()=>{l(),e()}),{isLoading:r,products:_,favoriteProduct:g,favoriteData:i,getProducts:l,getFavorite:e,removeFavorite:d,addFavorite:k,cart:h,addCart:w,status:C,getProduct:L}}},z={class:"mb-5"},U={class:"container"},q={"aria-label":"breadcrumb",style:{"--bs-breadcrumb-divider":"'>'"},class:"mt-3 mb-md-4 d-flex justify-content-start"},E={class:"breadcrumb"},M={class:"breadcrumb-item"},A={class:"row mt-4 mb-5 bg-light rounded-2 py-3"},G={class:"col table-responsive mt-4 mb-4"},H={class:"table align-middle text-center table-light table-borderless"},J={class:"text-center"},K={class:"favorite-table"},O=["onClick"],Q={class:"text-nowrap"},W={key:0,class:"h5 text-black-50"},X={key:1,class:"h6 text-black-50"},Y={key:2,class:"h5 text-dark"},Z={class:"text-nowrap text-end ps-4 ps-lg-0"},tt=["disabled","onClick"],st={key:0,class:"spinner-border text-primary spinner-border-sm",role:"status"},et=["disabled","onClick"],ot={class:"text-end mt-4 mb-5"},rt={key:2,class:"py-5 mb-5"},nt={class:"text-center pt-4"};function at(a,s,f,r,_,g){const i=x("RouterLink"),l=x("VueLoading");return o(),n(v,null,[s[11]||(s[11]=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"我的最愛")],-1)),t("section",z,[t("div",U,[t("nav",q,[t("ol",E,[t("li",M,[m(i,{to:"/",class:"text-dark hover-nav fw-bold"},{default:p(()=>s[0]||(s[0]=[c("首頁")])),_:1})]),s[1]||(s[1]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"我的最愛",-1))])]),r.isLoading?(o(),B(l,{key:0,active:!0})):r.favoriteProduct.length!==0?(o(),n(v,{key:1},[s[8]||(s[8]=t("div",{class:"d-flex justify-content-center mt-5"},[t("h2",{class:"fw-bold"},"我的最愛清單")],-1)),t("div",A,[t("div",G,[t("table",H,[s[6]||(s[6]=t("thead",{class:"table-secondary"},[t("tr",null,[t("th"),t("th",{class:"text-nowrap"},"行程名稱"),t("th",{class:"text-nowrap"},"價格"),t("th"),t("th",{class:"text-end"})])],-1)),t("tbody",J,[(o(!0),n(v,null,D(r.favoriteProduct,e=>(o(),n("tr",{class:"table-nowrap",key:e.id},[t("td",K,[t("div",{class:"m-auto rounded-2 favorite-table-img",style:I({backgroundImage:`url(${e.imageUrl})`})},null,4)]),t("td",{class:"text-nowrap fw-bold text-primary cursor-pointer hover-nav",onClick:d=>r.getProduct(e.id)},u(e.title),9,O),t("td",Q,[e.price?b("",!0):(o(),n("div",W," NTD "+u(a.$format.currency(e.origin_price)),1)),e.price?(o(),n("del",X,"NTD "+u(a.$format.currency(e.origin_price)),1)):b("",!0),e.price?(o(),n("div",Y," NTD "+u(a.$format.currency(e.price)),1)):b("",!0)]),t("td",Z,[t("button",{type:"button",class:"btn btn-outline-primary px-4",disabled:this.status.loadingItem===e.id,onClick:d=>r.addCart(e.id)},[this.status.loadingItem===e.id?(o(),n("div",st,s[2]||(s[2]=[t("span",{class:"visually-hidden"},"Loading...",-1)]))):b("",!0),s[3]||(s[3]=t("i",{class:"bi bi-cart-fill"},null,-1)),s[4]||(s[4]=c(" 加入購物車 "))],8,tt)]),t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:r.status.loadingItem===e.id,onClick:d=>r.removeFavorite(e)},s[5]||(s[5]=[t("i",{class:"bi bi-x-lg"},null,-1)]),8,et)])]))),128))])])])]),t("div",ot,[m(i,{class:"btn btn-primary ms-auto text-end hover-btn",to:"/cart"},{default:p(()=>s[7]||(s[7]=[c("前往購物車"),t("i",{class:"bi bi-cart-fill ps-1"},null,-1)])),_:1})])],64)):(o(),n("div",rt,[t("div",nt,[s[10]||(s[10]=t("h2",{class:"fw-bold mb-5"},"您尚未有行程加入我的最愛",-1)),m(i,{class:"btn btn-primary btn-lg fw-bold",to:"/products/全部"},{default:p(()=>s[9]||(s[9]=[c("馬上開始瀏覽行程吧 !")])),_:1})])]))])])],64)}const ct=F(j,[["render",at]]);export{ct as default};
